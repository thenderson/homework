		<div id="delete-confirm" class="dialog" title="Delete commitment?" data-role="dialog"> 
			<div data-role="content" id="text">
				<p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span><h4>Commitments should only be deleted if they were added by mistake. Deleting them cannot be undone. Are you sure?</h4></p>
			</div>
		</div>
		
		<div id="add-commitment" class="dialog" title="Record New Commitment" data-role="dialog">
			<form class='form-horizontal' id='comm_form'>
			
				<div class="control-group">
					<label class="control-label" for="inp-proj">Project</label>
					<div class="controls">
						<select class="input-sm" id="inp-proj" name="projectnumber" style="width: 200px" tabindex=1>
						</select>
					</div>
				</div>
				
				<div class="control-group">
					<label class="control-label" for="inp-comm">Description</label>
					<div class="controls">
						<textarea class="form-control input-sm" id="inp-comm" name="description" placeholder="Describe what work products will be given to whom, in what form, by what method & at what level of completion." rows="5" tabindex=2></textarea>
					</div>
				</div>

				<div class="control-group">
					<label class="control-label" for="inp-req">Requester</label>
					<div class="controls">
						<select class="input-sm" id="inp-req" name="requester" style="width: 200px" tabindex=3>
						</select>
					</div>
				</div>
				
				<div class="control-group">
					<label class="control-label" for="inp-prom">Promiser(s)</label>
					<div class="controls">
						<select class="input-sm" id="inp-prom" name="promiser" style="width: 200px" multiple tabindex=4>
						</select>
					</div>
					<p class="form-control-static">If promiser = requester, this will be considered a personal workplan item.</p>
				</div>
				
				<div class="control-group">
					<label class="control-label" for="inp-due">Date Due</label>
					<div class="controls">
						<input type="text" class="input-sm" id="inp-due" name="date_due" style="width: 200px" tabindex=5>
					</div>
				</div>
				
				<div class="control-group">
					<label class="control-label" for="inp-stat">Status</label>
					<div class="controls">
						<select class="input-sm" id="inp-stat" name="status" style="width: 200px" tabindex=6>
							<option value="OH">open: high priority</option>
							<option value="O" selected>open</option>
							<option value="C0">closed</option>
							<option value="D">deferred</option>
							<option value="?">unknown</option>
						</select>
					</div>
				</div>
			</form>			
		</div>
	
<script type="text/javascript">		
	$("#delete-confirm").dialog({
		resizable: false,
		autoOpen: false,
		height:180,
		modal: true,
		position: {my: "center", at: "center", of: window},
		buttons: {
			"Delete": function() {
				$(this).dialog("close");
				commitments.DeleteRow($(this).data('rowIndex'));
			},
			Cancel: function() {
				$(this).dialog("close");
			}
		}
	});
	
	$("#add-commitment").dialog({
		resizable: true,
		autoOpen: false,
		height: 550,
		width: 300,
		modal: true,
		position: {my: "center", at: "center", of: window},
		buttons: {
			"Submit": function() {
				var data = {};
				$.each($('#comm_form').serializeArray(), function(i, field) {
					data[field.name] = field.value;
				});
				$(this).dialog("close");
				commitments.AddRow(data);
			},
			"Submit+": function() {
				var data = {};
				$.each($('#comm_form').serializeArray(), function(i, field) {
					data[field.name] = field.value;
				});
				commitments.AddRow(data);
				$(this).dialog("close").delay(700).dialog("open");
			},
			Cancel: function() {
				$(this).dialog("close");
			}
		},
	});
	
	$("#new_com_btn").on("click", function() {
		$("#add-commitment")
			.dialog({show: { effect: "puff", duration: 150 }})
			.dialog("open"); 
			//return false; // stops page from scrolling to the location of the href anchor of the ID in the selector ... or something
	});
	
	$("#inp-due").datepicker({
		dateFormat: $.datepicker.W3C,
		numberOfMonths: 2,
		gotoCurrent: true,
		showAnim: 'puff'
	});

	$("#inp-proj").selectmenu();
	$("#inp-req").selectmenu();
	$("#inp-prom").selectmenu();
	$("#inp-stat").selectmenu();
	
// 	chosen({
//		disable_search_threshold: 10,
//		placeholder_text_single: "Pick one",
//		search_contains: true,
//		width: 250
//	});
	
//	chosen({
//		disable_search_threshold: 10,
//		placeholder_text_single: "Pick one",
//		search_contains: true,
//		width: 250
//	});
	
//	chosen({
//		disable_search_threshold: 10,
//		placeholder_text_multiple: "Pick one or more",
//		search_contains: true,
//		width: 250
//	});

//	chosen({
//		width: 250
//	});
</script>